{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelSelect as _vModelSelect, withDirectives as _withDirectives, vModelText as _vModelText, resolveComponent as _resolveComponent, withCtx as _withCtx, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-aff77390\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"row justify-content-md-center\"\n};\nconst _hoisted_2 = {\n  class: \"col-12\"\n};\nconst _hoisted_3 = {\n  class: \"navbar navbar-expand-lg navbar-light bg-light\"\n};\nconst _hoisted_4 = {\n  class: \"container-fluid\"\n};\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"a\", {\n  class: \"navbar-brand\",\n  href: \"#\"\n}, \"Dashboard\", -1 /* HOISTED */));\nconst _hoisted_6 = {\n  class: \"d-flex\"\n};\nconst _hoisted_7 = {\n  class: \"navbar-nav\"\n};\nconst _hoisted_8 = {\n  class: \"nav-item\"\n};\nconst _hoisted_9 = {\n  class: \"text-center mt-5\"\n};\nconst _hoisted_10 = {\n  id: \"app\"\n};\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"option\", {\n  value: null\n}, \"No Column Filter\", -1 /* HOISTED */));\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_layout_div = _resolveComponent(\"layout-div\");\n  return _openBlock(), _createBlock(_component_layout_div, null, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"nav\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_hoisted_5, _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"ul\", _hoisted_7, [_createElementVNode(\"li\", _hoisted_8, [_createElementVNode(\"a\", {\n      onClick: _cache[0] || (_cache[0] = $event => $options.logoutAction()),\n      class: \"nav-link\",\n      \"aria-current\": \"page\",\n      href: \"#\"\n    }, \"Logout\")])])])])]), _createElementVNode(\"h2\", _hoisted_9, \"Welcome, \" + _toDisplayString($data.user?.name) + \"!\", 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"div\", null, [_withDirectives(_createElementVNode(\"select\", {\n      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.column = $event)\n    }, [_hoisted_11, (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(this.keys, col => {\n      return _openBlock(), _createElementBlock(\"option\", {\n        key: col\n      }, _toDisplayString(col), 1 /* TEXT */);\n    }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, _ctx.column]]), _withDirectives(_createElementVNode(\"input\", {\n      type: \"text\",\n      \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.search = $event),\n      placeholder: \"Search\"\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.search]])]), _createElementVNode(\"table\", null, [_createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(this.keys, col => {\n      return _openBlock(), _createElementBlock(\"th\", {\n        key: col\n      }, _toDisplayString(col), 1 /* TEXT */);\n    }), 128 /* KEYED_FRAGMENT */))])]), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(this.rows, row => {\n      return _openBlock(), _createElementBlock(\"tr\", {\n        key: row.id\n      }, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(this.results[row], col => {\n        return _openBlock(), _createElementBlock(\"td\", {\n          key: col.id\n        }, _toDisplayString(col), 1 /* TEXT */);\n      }), 128 /* KEYED_FRAGMENT */))]);\n    }), 128 /* KEYED_FRAGMENT */))])])])])])]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["class","_createElementVNode","href","id","value","_createBlock","_component_layout_div","default","_withCtx","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","onClick","_cache","$event","$options","logoutAction","_hoisted_9","_toDisplayString","$data","user","name","_hoisted_10","_ctx","column","_hoisted_11","_createElementBlock","_Fragment","_renderList","keys","col","key","type","search","placeholder","rows","row","results","_"],"sources":["/Users/waiwai/Desktop/Vuejs/model-project/src/components/pages/DashboardPage.vue"],"sourcesContent":["<template>\n  <layout-div>\n    <div class=\"row justify-content-md-center\">\n      <div class=\"col-12\">\n        <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n          <div class=\"container-fluid\">\n            <a class=\"navbar-brand\" href=\"#\">Dashboard</a>\n            <div class=\"d-flex\">\n              <ul class=\"navbar-nav\">\n                <li class=\"nav-item\">\n                  <a @click=\"logoutAction()\" class=\"nav-link\" aria-current=\"page\" href=\"#\">Logout</a>\n                </li>\n              </ul>\n            </div>\n          </div>\n        </nav>\n        <h2 class=\"text-center mt-5\">Welcome, {{ user?.name }}!</h2>\n        <div id=\"app\">\n          <div>\n            <select v-model=\"column\">\n              <option :value=\"null\">No Column Filter</option>\n              <option v-for=\"col in this.keys\" :key=\"col\">{{ col }}</option>\n            </select>\n            <input type=\"text\" v-model=\"search\" placeholder=\"Search\">\n          </div>\n          <table>\n            <thead>\n              <tr>\n                <th v-for=\"col in this.keys\" :key=\"col\">{{ col }}</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"row in this.rows\" :key=\"row.id\">\n                <td v-for=\"col in this.results[row]\" :key=\"col.id\">{{ col }}</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n\n      </div>\n    </div>\n  </layout-div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport LayoutDiv from \"../LayoutDiv.vue\";\n\nexport default {\n  name: \"DashboardPage\",\n  components: {\n    LayoutDiv\n  },\n  data() {\n    return {\n      user: {},\n      results: [],\n      rows: [],\n      keys:[],\n      search: {},\n      filter_col: {}\n    };\n  },\n  created() {\n    this.getUser();\n    this.load_book_list();\n    //  if(localStorage.getItem('token') == \"\" || localStorage.getItem('token') == null){\n    //    this.$router.push('/')\n    //  }else {\n    //    this.getUser();\n    //  }\n  },\n  methods: {\n    getUser() {\n      axios\n        .get(\"/api/user\", {\n          headers: { Authorization: \"Bearer \" + localStorage.getItem(\"token\") },\n        })\n        .then((r) => {\n          this.user = r.data;\n          return r;\n        })\n        .catch((e) => {\n          return e;\n        });\n    },\n    logoutAction() {\n      localStorage.setItem(\"token\", \"\");\n      this.$router.push(\"/\");\n    },\n    load_book_list() {\n      axios\n        .get(\"http://127.0.0.1:5000/book_list\")\n        .then((r) => {\n          console.log(r.data);\n          this.results = r.data;\n          for (var i = 0; i < r.data.length; i++) {\n            this.titles.push(r.data[i].title);\n            this.rows.push(i);\n          }\n          console.log(this.titles);\n          this.keys = Object.keys(this.results[0]);\n          console.log(this.keys);\n\n        })\n        .catch((e) => {\n          return e;\n        });\n    },\n  },\n};\n</script>\n\n<style scoped>\n\n* {\n  margin: 0;\n  padding: 0;\n}\n\nbody {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n#app {\n  width: 50rem;\n}\n\n#app > div {\n  display: flex;\n  flex-direction: row;\n}\n\nselect, input {\n  width: 50%;\n}\n\ntable {\n  width: 100%;\n  border: 1px solid black;\n  text-align: center;\n  border-spacing: 0;\n}\n\ntd {\n  border-top: 1px solid black;\n}\n\n\n</style>\n"],"mappings":";;;EAESA,KAAK,EAAC;AAA+B;;EACnCA,KAAK,EAAC;AAAQ;;EACZA,KAAK,EAAC;AAA+C;;EACnDA,KAAK,EAAC;AAAiB;gEAC1BC,mBAAA,CAA8C;EAA3CD,KAAK,EAAC,cAAc;EAACE,IAAI,EAAC;GAAI,WAAS;;EACrCF,KAAK,EAAC;AAAQ;;EACbA,KAAK,EAAC;AAAY;;EAChBA,KAAK,EAAC;AAAU;;EAOxBA,KAAK,EAAC;AAAkB;;EACvBG,EAAE,EAAC;AAAK;iEAGPF,mBAAA,CAA+C;EAAtCG,KAAK,EAAE;AAAI,GAAE,kBAAgB;;;uBAnBlDC,YAAA,CAwCaC,qBAAA;IAzCfC,OAAA,EAAAC,QAAA,CAEI,MAsCM,CAtCNP,mBAAA,CAsCM,OAtCNQ,UAsCM,GArCJR,mBAAA,CAoCM,OApCNS,UAoCM,GAnCJT,mBAAA,CAWM,OAXNU,UAWM,GAVJV,mBAAA,CASM,OATNW,UASM,GARJC,UAA8C,EAC9CZ,mBAAA,CAMM,OANNa,UAMM,GALJb,mBAAA,CAIK,MAJLc,UAIK,GAHHd,mBAAA,CAEK,MAFLe,UAEK,GADHf,mBAAA,CAAmF;MAA/EgB,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,QAAA,CAAAC,YAAY;MAAIrB,KAAK,EAAC,UAAU;MAAC,cAAY,EAAC,MAAM;MAACE,IAAI,EAAC;OAAI,QAAM,E,WAMzFD,mBAAA,CAA4D,MAA5DqB,UAA4D,EAA/B,WAAS,GAAAC,gBAAA,CAAGC,KAAA,CAAAC,IAAI,EAAEC,IAAI,IAAG,GAAC,iBACvDzB,mBAAA,CAoBM,OApBN0B,WAoBM,GAnBJ1B,mBAAA,CAMM,c,gBALJA,mBAAA,CAGS;MAtBrB,uBAAAiB,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAmB6BS,IAAA,CAAAC,MAAM,GAAAV,MAAA;QACrBW,WAA+C,G,kBAC/CC,mBAAA,CAA8DC,SAAA,QArB5EC,WAAA,MAqByCC,IAAI,EAAhBC,GAAG;2BAAlBJ,mBAAA,CAA8D;QAA5BK,GAAG,EAAED;MAAG,GAAAZ,gBAAA,CAAKY,GAAG;6EAFnCP,IAAA,CAAAC,MAAM,E,mBAIvB5B,mBAAA,CAAyD;MAAlDoC,IAAI,EAAC,MAAM;MAvB9B,uBAAAnB,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAuBwCK,KAAA,CAAAc,MAAM,GAAAnB,MAAA;MAAEoB,WAAW,EAAC;mDAApBf,KAAA,CAAAc,MAAM,E,KAEpCrC,mBAAA,CAWQ,gBAVNA,mBAAA,CAIQ,gBAHNA,mBAAA,CAEK,c,kBADH8B,mBAAA,CAAsDC,SAAA,QA5BtEC,WAAA,MA4BuCC,IAAI,EAAhBC,GAAG;2BAAdJ,mBAAA,CAAsD;QAAxBK,GAAG,EAAED;MAAG,GAAAZ,gBAAA,CAAKY,GAAG;wCAGlDlC,mBAAA,CAIQ,iB,kBAHN8B,mBAAA,CAEKC,SAAA,QAlCnBC,WAAA,MAgCqCO,IAAI,EAAhBC,GAAG;2BAAdV,mBAAA,CAEK;QAFyBK,GAAG,EAAEK,GAAG,CAACtC;6BACrC4B,mBAAA,CAAiEC,SAAA,QAjCjFC,WAAA,MAiCuCS,OAAO,CAACD,GAAG,GAAvBN,GAAG;6BAAdJ,mBAAA,CAAiE;UAA3BK,GAAG,EAAED,GAAG,CAAChC;4BAAOgC,GAAG;;;IAjCzEQ,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}