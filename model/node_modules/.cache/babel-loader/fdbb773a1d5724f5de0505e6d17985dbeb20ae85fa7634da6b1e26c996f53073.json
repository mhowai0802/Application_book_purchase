{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, vModelText as _vModelText, withDirectives as _withDirectives, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-aff77390\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"row justify-content-md-center\"\n};\nconst _hoisted_2 = {\n  class: \"col-12\"\n};\nconst _hoisted_3 = {\n  class: \"navbar navbar-expand-lg navbar-light bg-light\"\n};\nconst _hoisted_4 = {\n  class: \"container-fluid\"\n};\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"a\", {\n  class: \"navbar-brand\",\n  href: \"#\"\n}, \"Dashboard\", -1 /* HOISTED */));\nconst _hoisted_6 = {\n  class: \"d-flex\"\n};\nconst _hoisted_7 = {\n  class: \"navbar-nav\"\n};\nconst _hoisted_8 = {\n  class: \"nav-item\"\n};\nconst _hoisted_9 = {\n  class: \"text-center mt-5\"\n};\nconst _hoisted_10 = {\n  id: \"app\"\n};\nconst _hoisted_11 = [\"innerHTML\"];\nconst _hoisted_12 = [\"innerHTML\"];\nconst _hoisted_13 = [\"innerHTML\"];\nconst _hoisted_14 = [\"innerHTML\"];\nconst _hoisted_15 = [\"innerHTML\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_b_button = _resolveComponent(\"b-button\");\n  const _component_layout_div = _resolveComponent(\"layout-div\");\n  return _openBlock(), _createBlock(_component_layout_div, null, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"nav\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_hoisted_5, _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"ul\", _hoisted_7, [_createElementVNode(\"li\", _hoisted_8, [_createElementVNode(\"a\", {\n      onClick: _cache[0] || (_cache[0] = $event => $options.logoutAction()),\n      class: \"nav-link\",\n      \"aria-current\": \"page\",\n      href: \"#\"\n    }, \"Logout\")])])])])]), _createElementVNode(\"h2\", _hoisted_9, \"Welcome, \" + _toDisplayString($data.user?.name) + \"!\", 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"table\", null, [_createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.keys, col => {\n      return _openBlock(), _createElementBlock(\"th\", {\n        key: col\n      }, _toDisplayString(col), 1 /* TEXT */);\n    }), 128 /* KEYED_FRAGMENT */))])]), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.filteredRows, (row, index) => {\n      return _openBlock(), _createElementBlock(\"tr\", {\n        key: index\n      }, [_createElementVNode(\"td\", {\n        innerHTML: row.title\n      }, null, 8 /* PROPS */, _hoisted_11), _createElementVNode(\"td\", {\n        innerHTML: row.categories\n      }, null, 8 /* PROPS */, _hoisted_12), _createElementVNode(\"td\", {\n        innerHTML: row.authors\n      }, null, 8 /* PROPS */, _hoisted_13), _createElementVNode(\"td\", {\n        innerHTML: row.ratings\n      }, null, 8 /* PROPS */, _hoisted_14), _createElementVNode(\"td\", {\n        innerHTML: row.price\n      }, null, 8 /* PROPS */, _hoisted_15)]);\n    }), 128 /* KEYED_FRAGMENT */))])]), _withDirectives(_createElementVNode(\"input\", {\n      type: \"text\",\n      placeholder: \"Filter by department or employee\",\n      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.filter = $event)\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.filter]])]), _createElementVNode(\"tr\", null, _toDisplayString($options.filteredRows), 1 /* TEXT */), _createElementVNode(\"div\", null, [_createVNode(_component_b_button, {\n      pill: \"\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"Button\")]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_b_button, {\n      pill: \"\",\n      variant: \"primary\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"Button\")]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_b_button, {\n      pill: \"\",\n      variant: \"outline-secondary\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"Button\")]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_b_button, {\n      pill: \"\",\n      variant: \"success\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"Button\")]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_b_button, {\n      pill: \"\",\n      variant: \"outline-danger\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"Button\")]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_b_button, {\n      pill: \"\",\n      variant: \"info\"\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"Button\")]),\n      _: 1 /* STABLE */\n    })])])])]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["class","_createElementVNode","href","id","_createBlock","_component_layout_div","default","_withCtx","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","onClick","_cache","$event","$options","logoutAction","_hoisted_9","_toDisplayString","$data","user","name","_hoisted_10","_createElementBlock","_Fragment","_renderList","keys","col","key","filteredRows","row","index","innerHTML","title","_hoisted_11","categories","_hoisted_12","authors","_hoisted_13","ratings","_hoisted_14","price","_hoisted_15","type","placeholder","filter","_createVNode","_component_b_button","pill","_createTextVNode","_","variant"],"sources":["/Users/waiwai/Desktop/Vuejs/model-project/src/components/pages/DashboardPage.vue"],"sourcesContent":["<template>\n  <layout-div>\n    <div class=\"row justify-content-md-center\">\n      <div class=\"col-12\">\n        <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n          <div class=\"container-fluid\">\n            <a class=\"navbar-brand\" href=\"#\">Dashboard</a>\n            <div class=\"d-flex\">\n              <ul class=\"navbar-nav\">\n                <li class=\"nav-item\">\n                  <a @click=\"logoutAction()\" class=\"nav-link\" aria-current=\"page\" href=\"#\">Logout</a>\n                </li>\n              </ul>\n            </div>\n          </div>\n        </nav>\n        <h2 class=\"text-center mt-5\">Welcome, {{ user?.name }}!</h2>\n        <div id=\"app\">\n          <table>\n            <thead>\n              <tr>\n                <th v-for=\"col in keys\" :key=\"col\">{{ col }}</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"(row, index) in filteredRows\" :key=\"index\">\n                <td v-html=\"row.title\"></td>\n                <td v-html=\"row.categories\"></td>\n                <td v-html=\"row.authors\"></td>\n                <td v-html=\"row.ratings\"></td>\n                <td v-html=\"row.price\"></td>\n              </tr>\n            </tbody>\n          </table>\n          <input type=\"text\" placeholder=\"Filter by department or employee\" v-model=\"filter\" />\n        </div>\n        <tr>{{ filteredRows }}</tr>\n        <div>\n          <b-button pill>Button</b-button>\n          <b-button pill variant=\"primary\">Button</b-button>\n          <b-button pill variant=\"outline-secondary\">Button</b-button>\n          <b-button pill variant=\"success\">Button</b-button>\n          <b-button pill variant=\"outline-danger\">Button</b-button>\n          <b-button pill variant=\"info\">Button</b-button>\n        </div>\n      </div>\n    </div>\n  </layout-div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport LayoutDiv from \"../LayoutDiv.vue\";\n\nexport default {\n  name: \"DashboardPage\",\n  components: {\n    LayoutDiv\n  },\n  data() {\n    return {\n      user: {},\n      results: [],\n      rows: [],\n      keys: [],\n      sortKey: '',\n      search: '',\n      reverse: false,\n      filter: ''\n    };\n  },\n  created() {\n    this.getUser();\n    this.load_book_list();\n\n  },\n  methods: {\n    getUser() {\n      axios\n        .get(\"/api/user\", {\n          headers: { Authorization: \"Bearer \" + localStorage.getItem(\"token\") },\n        })\n        .then((r) => {\n          this.user = r.data;\n          return r;\n        })\n        .catch((e) => {\n          return e;\n        });\n    },\n    logoutAction() {\n      localStorage.setItem(\"token\", \"\");\n      this.$router.push(\"/\");\n    },\n    load_book_list() {\n      axios\n        .get(\"http://127.0.0.1:5000/book_list\")\n        .then((r) => {\n          this.results = r.data;\n          for (var i = 0; i < r.data.length; i++) {\n            this.rows.push(i);\n          }\n          this.keys = Object.keys(this.results[0]);\n          console.log(this.keys);\n        })\n        .catch((e) => {\n          return e;\n        });\n    },\n\n  },\n  computed: {\n    filteredRows() {\n      return this.results.filter(row => {\n        const title = row.title.toString();\n        const categories = row.categories;\n        const authors = row.authors.toString();\n        const ratings = row.ratings;\n        const price = row.price.toString();\n        const searchTerm = this.filter;\n        return (\n          title.includes(searchTerm) || categories.includes(searchTerm) ||\n          authors.includes(searchTerm) || ratings.includes(searchTerm) ||\n          price.includes(searchTerm)\n        );\n      });\n    }\n  }\n};\n</script>\n\n<style scoped>\ntable {\n  font-family: arial, sans-serif;\n  border-collapse: collapse;\n  width: 100%;\n}\n\ntd,\nth {\n  border: 1px solid #dddddd;\n  text-align: left;\n  padding: 8px;\n}\n\nth {\n  background-color: #dddddd;\n}\n\ninput[type=text],\nselect {\n  width: 100%;\n  padding: 12px 20px;\n  margin: 8px 0;\n  display: inline-block;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  box-sizing: border-box;\n  margin-top: 25px;\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}