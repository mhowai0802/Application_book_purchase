{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport LayoutDiv from \"../LayoutDiv.vue\";\nexport default {\n  name: \"LoginPage\",\n  components: {\n    LayoutDiv\n  },\n  data() {\n    return {\n      name: \"\",\n      password: \"\",\n      validationErrors: {},\n      isSubmitting: false\n    };\n  },\n  methods: {\n    loginAction() {\n      this.isSubmitting = true;\n      let payload = {\n        name: this.name,\n        password: this.password\n      };\n      axios.post(\"http://127.0.0.1:5000/login\", payload).then(response => {\n        console.log(response);\n        if (response.data.password == this.password) {\n          // localStorage.setItem(\"name\", response.data.name);\n          // this.$router.push(\"/dashboard\");\n          // return response;\n        } else if (response.data.password.length < 1) {\n          alert(\"Not registered user\").then(() => {\n            this.$router.push(\"/\");\n          });\n        } else if (response.data.password != this.password) {\n          alert(\"Wrong password\").then(() => {\n            this.$router.push(\"/\");\n          });\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","LayoutDiv","name","components","data","password","validationErrors","isSubmitting","methods","loginAction","payload","post","then","response","console","log","length","alert","$router","push","catch","error"],"sources":["/Users/waiwai/Desktop/Vuejs/model-project/src/components/pages/LoginPage.vue"],"sourcesContent":["<template>\n  <layout-div>\n    <div class=\"row justify-content-md-center mt-5\">\n      <div class=\"col-4\">\n        <div class=\"card\">\n          <div class=\"card-body\">\n            <h5 class=\"card-title mb-4\">Sign In</h5>\n            <form>\n              <div class=\"mb-3\">\n                <label htmlFor=\"phone_number\" class=\"form-label\">\n                  Phone number\n                </label>\n                <input v-model=\"name\" type=\"name\" class=\"form-control\" id=\"name\"\n                  name=\"name\" />\n              </div>\n              <div class=\"mb-3\">\n                <label htmlFor=\"password\" class=\"form-label\">Password </label>\n                <input v-model=\"password\" type=\"password\" class=\"form-control\" id=\"password\" name=\"password\" />\n              </div>\n              <div class=\"d-grid gap-2\">\n                <button :disabled=\"isSubmitting\" @click=\"loginAction()\" type=\"button\" class=\"btn btn-primary btn-block\">\n                  Login\n                </button>\n                <p class=\"text-center\">\n                  Don't have account?\n                  <router-link to=\"/register\">Register here </router-link>\n                </p>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  </layout-div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport LayoutDiv from \"../LayoutDiv.vue\";\n\nexport default {\n  name: \"LoginPage\",\n  components: {\n    LayoutDiv,\n  },\n  data() {\n    return {\n      name: \"\",\n      password: \"\",\n      validationErrors: {},\n      isSubmitting: false,\n    };\n  },\n  methods: {\n    loginAction() {\n      this.isSubmitting = true;\n      let payload = {\n        name: this.name,\n        password: this.password,\n      };\n      axios\n        .post(\"http://127.0.0.1:5000/login\", payload)\n        .then((response) => {\n          console.log(response)\n          if (response.data.password == this.password){\n          // localStorage.setItem(\"name\", response.data.name);\n          // this.$router.push(\"/dashboard\");\n          // return response;\n          }\n          else if (response.data.password.length < 1){\n            alert(\"Not registered user\").then(() => {\n              this.$router.push(\"/\");\n          });\n          }\n          else if (response.data.password != this.password){\n            alert(\"Wrong password\").then(() => {\n              this.$router.push(\"/\");\n          });}\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n  },\n};\n</script>\n\n<style scoped></style>"],"mappings":";AAqCA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,SAAQ,MAAO,kBAAkB;AAExC,eAAe;EACbC,IAAI,EAAE,WAAW;EACjBC,UAAU,EAAE;IACVF;EACF,CAAC;EACDG,IAAIA,CAAA,EAAG;IACL,OAAO;MACLF,IAAI,EAAE,EAAE;MACRG,QAAQ,EAAE,EAAE;MACZC,gBAAgB,EAAE,CAAC,CAAC;MACpBC,YAAY,EAAE;IAChB,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,WAAWA,CAAA,EAAG;MACZ,IAAI,CAACF,YAAW,GAAI,IAAI;MACxB,IAAIG,OAAM,GAAI;QACZR,IAAI,EAAE,IAAI,CAACA,IAAI;QACfG,QAAQ,EAAE,IAAI,CAACA;MACjB,CAAC;MACDL,KAAI,CACDW,IAAI,CAAC,6BAA6B,EAAED,OAAO,EAC3CE,IAAI,CAAEC,QAAQ,IAAK;QAClBC,OAAO,CAACC,GAAG,CAACF,QAAQ;QACpB,IAAIA,QAAQ,CAACT,IAAI,CAACC,QAAO,IAAK,IAAI,CAACA,QAAQ,EAAC;UAC5C;UACA;UACA;QAAA,CACA,MACK,IAAIQ,QAAQ,CAACT,IAAI,CAACC,QAAQ,CAACW,MAAK,GAAI,CAAC,EAAC;UACzCC,KAAK,CAAC,qBAAqB,CAAC,CAACL,IAAI,CAAC,MAAM;YACtC,IAAI,CAACM,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;UAC1B,CAAC,CAAC;QACF,OACK,IAAIN,QAAQ,CAACT,IAAI,CAACC,QAAO,IAAK,IAAI,CAACA,QAAQ,EAAC;UAC/CY,KAAK,CAAC,gBAAgB,CAAC,CAACL,IAAI,CAAC,MAAM;YACjC,IAAI,CAACM,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;UAC1B,CAAC,CAAC;QAAC;MACL,CAAC,EACAC,KAAK,CAAEC,KAAK,IAAK;QAChBP,OAAO,CAACC,GAAG,CAACM,KAAK,CAAC;MACpB,CAAC,CAAC;IACN;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}