{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"row justify-content-md-center\"\n};\nconst _hoisted_2 = {\n  class: \"col-12\"\n};\nconst _hoisted_3 = {\n  class: \"navbar navbar-expand-lg navbar-light bg-light\"\n};\nconst _hoisted_4 = {\n  class: \"container-fluid\"\n};\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"a\", {\n  class: \"navbar-brand\",\n  href: \"#\"\n}, \"Dashboard\", -1 /* HOISTED */);\nconst _hoisted_6 = {\n  class: \"d-flex\"\n};\nconst _hoisted_7 = {\n  class: \"navbar-nav\"\n};\nconst _hoisted_8 = {\n  class: \"nav-item\"\n};\nconst _hoisted_9 = {\n  class: \"text-center mt-5\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_layout_div = _resolveComponent(\"layout-div\");\n  return _openBlock(), _createBlock(_component_layout_div, null, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"nav\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_hoisted_5, _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"ul\", _hoisted_7, [_createElementVNode(\"li\", _hoisted_8, [_createElementVNode(\"a\", {\n      onClick: _cache[0] || (_cache[0] = $event => $options.logoutAction()),\n      class: \"nav-link\",\n      \"aria-current\": \"page\",\n      href: \"#\"\n    }, \"Logout\")])])])])]), _createElementVNode(\"h2\", _hoisted_9, \"Welcome, \" + _toDisplayString($data.user?.name) + \"!\", 1 /* TEXT */)])])]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["class","_createElementVNode","href","_createBlock","_component_layout_div","default","_withCtx","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","onClick","_cache","$event","$options","logoutAction","_hoisted_9","_toDisplayString","$data","user","name","_"],"sources":["/Users/waiwai/Desktop/Vuejs/model-project/src/components/pages/DashboardPage.vue"],"sourcesContent":["<template>\n    <layout-div>\n       <div class=\"row justify-content-md-center\">\n         <div class=\"col-12\">\n             <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n                 <div class=\"container-fluid\">\n                     <a class=\"navbar-brand\" href=\"#\">Dashboard</a>\n                     <div class=\"d-flex\">\n                         <ul class=\"navbar-nav\">\n                             <li class=\"nav-item\">\n                                 <a @click=\"logoutAction()\" class=\"nav-link \" aria-current=\"page\" href=\"#\">Logout</a>\n                             </li>\n                         </ul>\n                     </div>\n                 </div>\n             </nav>\n             <h2 class=\"text-center mt-5\">Welcome, {{user?.name}}!</h2  >\n         </div>\n       </div>\n    </layout-div>\n </template>\n   \n <script>\n import axios from 'axios';\n import LayoutDiv from '../LayoutDiv.vue';\n   \n export default {\n   name: 'DashboardPage',\n   components: {\n     LayoutDiv,\n   },\n   data() {\n     return {\n       user: {},\n     };\n   },\n   created() {\n     this.getUser();\n     if(localStorage.getItem('token') == \"\" || localStorage.getItem('token') == null){\n       this.$router.push('/')\n     }else {\n       this.getUser();\n     }\n  \n   },\n   methods: {\n     getUser() {\n         axios.get('/api/user', { headers:{Authorization: 'Bearer ' + localStorage.getItem('token')}})\n         .then((r) => {\n            this.user = r.data;\n            return r\n         })\n         .catch((e) => {\n            return e\n         });\n     },\n  \n     logoutAction () {\n       axios.post('http://127.0.0.1:5000/logout',{}, { headers:{Authorization: 'Bearer ' + localStorage.getItem('token')}})\n       .then((r) => {\n           localStorage.setItem('token', \"\")\n           this.$router.push('/')\n           return r\n       })\n       .catch((e) => {\n         return e\n       });\n     }\n  \n   },\n };\n </script>"],"mappings":";;EAEYA,KAAK,EAAC;AAA+B;;EACnCA,KAAK,EAAC;AAAQ;;EACVA,KAAK,EAAC;AAA+C;;EACjDA,KAAK,EAAC;AAAiB;gCACxBC,mBAAA,CAA8C;EAA3CD,KAAK,EAAC,cAAc;EAACE,IAAI,EAAC;GAAI,WAAS;;EACrCF,KAAK,EAAC;AAAQ;;EACXA,KAAK,EAAC;AAAY;;EACdA,KAAK,EAAC;AAAU;;EAOhCA,KAAK,EAAC;AAAkB;;;uBAfrCG,YAAA,CAkBaC,qBAAA;IAnBjBC,OAAA,EAAAC,QAAA,CAEO,MAgBM,CAhBNL,mBAAA,CAgBM,OAhBNM,UAgBM,GAfJN,mBAAA,CAcM,OAdNO,UAcM,GAbFP,mBAAA,CAWM,OAXNQ,UAWM,GAVFR,mBAAA,CASM,OATNS,UASM,GARFC,UAA8C,EAC9CV,mBAAA,CAMM,OANNW,UAMM,GALFX,mBAAA,CAIK,MAJLY,UAIK,GAHDZ,mBAAA,CAEK,MAFLa,UAEK,GADDb,mBAAA,CAAoF;MAAhFc,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,QAAA,CAAAC,YAAY;MAAInB,KAAK,EAAC,UAAW;MAAC,cAAY,EAAC,MAAM;MAACE,IAAI,EAAC;OAAI,QAAM,E,WAMpGD,mBAAA,CAA4D,MAA5DmB,UAA4D,EAA/B,WAAS,GAAAC,gBAAA,CAAEC,KAAA,CAAAC,IAAI,EAAEC,IAAI,IAAE,GAAC,gB;IAhBlEC,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}