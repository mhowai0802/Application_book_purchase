{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createBlock as _createBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"row justify-content-md-center\"\n};\nconst _hoisted_2 = {\n  class: \"col-12\"\n};\nconst _hoisted_3 = {\n  class: \"navbar navbar-expand-lg navbar-light bg-light\"\n};\nconst _hoisted_4 = {\n  class: \"container-fluid\"\n};\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"a\", {\n  class: \"navbar-brand\",\n  href: \"#\"\n}, \"Dashboard\", -1 /* HOISTED */);\nconst _hoisted_6 = {\n  class: \"d-flex\"\n};\nconst _hoisted_7 = {\n  class: \"navbar-nav\"\n};\nconst _hoisted_8 = {\n  class: \"nav-item\"\n};\nconst _hoisted_9 = {\n  class: \"text-center mt-5\"\n};\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"label\", null, \"Filter by Name:\", -1 /* HOISTED */);\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"thead\", {\n  slot: \"head\"\n}, [/*#__PURE__*/_createElementVNode(\"th\", null, \"Name\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Age\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Email\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Address\")], -1 /* HOISTED */);\nconst _hoisted_12 = {\n  slot: \"body\",\n  \"slot-scope\": \"{displayData}\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_v_table = _resolveComponent(\"v-table\");\n  const _component_layout_div = _resolveComponent(\"layout-div\");\n  return _openBlock(), _createBlock(_component_layout_div, null, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"nav\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_hoisted_5, _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"ul\", _hoisted_7, [_createElementVNode(\"li\", _hoisted_8, [_createElementVNode(\"a\", {\n      onClick: _cache[0] || (_cache[0] = $event => $options.logoutAction()),\n      class: \"nav-link\",\n      \"aria-current\": \"page\",\n      href: \"#\"\n    }, \"Logout\")])])])])]), _createElementVNode(\"h2\", _hoisted_9, \"Welcome, \" + _toDisplayString($data.user?.name) + \"!\", 1 /* TEXT */), _createElementVNode(\"div\", null, [_hoisted_10, _withDirectives(_createElementVNode(\"input\", {\n      class: \"form-control\",\n      \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.filters.name.value = $event)\n    }, null, 512 /* NEED_PATCH */), [[_vModelText, _ctx.filters.name.value]]), _createVNode(_component_v_table, {\n      data: _ctx.users,\n      filters: _ctx.filters\n    }, {\n      default: _withCtx(() => [_hoisted_11, _createElementVNode(\"tbody\", _hoisted_12, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.displayData, row => {\n        return _openBlock(), _createElementBlock(\"tr\", {\n          key: row.guid\n        }, [_createElementVNode(\"td\", null, _toDisplayString(row.name), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(row.age), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(row.email), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(row.address.street) + \", \" + _toDisplayString(row.address.city) + \" \" + _toDisplayString(row.address.state), 1 /* TEXT */)]);\n      }), 128 /* KEYED_FRAGMENT */))])]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"data\", \"filters\"])])])])]),\n    _: 1 /* STABLE */\n  });\n}","map":{"version":3,"names":["class","_createElementVNode","href","slot","_createBlock","_component_layout_div","default","_withCtx","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","onClick","_cache","$event","$options","logoutAction","_hoisted_9","_toDisplayString","$data","user","name","_hoisted_10","_ctx","filters","value","_createVNode","_component_v_table","data","users","_hoisted_11","_hoisted_12","_createElementBlock","_Fragment","_renderList","displayData","row","key","guid","age","email","address","street","city","state","_"],"sources":["/Users/waiwai/Desktop/Vuejs/model-project/src/components/pages/DashboardPage.vue"],"sourcesContent":["<template>\n  <layout-div>\n    <div class=\"row justify-content-md-center\">\n      <div class=\"col-12\">\n        <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n          <div class=\"container-fluid\">\n            <a class=\"navbar-brand\" href=\"#\">Dashboard</a>\n            <div class=\"d-flex\">\n              <ul class=\"navbar-nav\">\n                <li class=\"nav-item\">\n                  <a\n                    @click=\"logoutAction()\"\n                    class=\"nav-link\"\n                    aria-current=\"page\"\n                    href=\"#\"\n                    >Logout</a\n                  >\n                </li>\n              </ul>\n            </div>\n          </div>\n        </nav>\n        <h2 class=\"text-center mt-5\">Welcome, {{ user?.name }}!</h2>\n        <div>\n      <label>Filter by Name:</label>\n      <input class=\"form-control\" v-model=\"filters.name.value\"/>\n    \n      <v-table\n        :data=\"users\"\n        :filters=\"filters\"\n      >\n        <thead slot=\"head\">\n        <th>Name</th>\n        <th>Age</th>\n        <th>Email</th>\n        <th>Address</th>\n        </thead>\n        <tbody slot=\"body\" slot-scope=\"{displayData}\">\n        <tr v-for=\"row in displayData\" :key=\"row.guid\">\n          <td>{{ row.name }}</td>\n          <td>{{ row.age }}</td>\n          <td>{{ row.email }}</td>\n          <td>\n              {{ row.address.street }}, \n              {{ row.address.city }} \n              {{ row.address.state}}\n          </td>\n        </tr>\n        </tbody>\n      </v-table>\n    </div>\n      </div>\n    </div>\n  </layout-div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport LayoutDiv from \"../LayoutDiv.vue\";\n\nexport default {\n  name: \"DashboardPage\",\n  components: {\n    LayoutDiv\n  },\n  data() {\n    return {\n      user: {},\n      results: [],\n      titles: [],\n    };\n  },\n  created() {\n    this.getUser();\n    this.load_book_list();\n    //  if(localStorage.getItem('token') == \"\" || localStorage.getItem('token') == null){\n    //    this.$router.push('/')\n    //  }else {\n    //    this.getUser();\n    //  }\n  },\n  methods: {\n    getUser() {\n      axios\n        .get(\"/api/user\", {\n          headers: { Authorization: \"Bearer \" + localStorage.getItem(\"token\") },\n        })\n        .then((r) => {\n          this.user = r.data;\n          return r;\n        })\n        .catch((e) => {\n          return e;\n        });\n    },\n    logoutAction() {\n      localStorage.setItem(\"token\", \"\");\n      this.$router.push(\"/\");\n    },\n    load_book_list() {\n      axios\n        .get(\"http://127.0.0.1:5000/book_list\")\n        .then((r) => {\n          console.log(r.data);\n          this.results = r.data;\n            for (var i = 0; i < r.data.length; i++) {\n              this.titles.push(r.data[i].title);\n          }\n          console.log(this.titles);\n        })\n        .catch((e) => {\n          return e;\n        });\n    },\n  },\n};\n</script>\n"],"mappings":";;EAESA,KAAK,EAAC;AAA+B;;EACnCA,KAAK,EAAC;AAAQ;;EACZA,KAAK,EAAC;AAA+C;;EACnDA,KAAK,EAAC;AAAiB;gCAC1BC,mBAAA,CAA8C;EAA3CD,KAAK,EAAC,cAAc;EAACE,IAAI,EAAC;GAAI,WAAS;;EACrCF,KAAK,EAAC;AAAQ;;EACbA,KAAK,EAAC;AAAY;;EAChBA,KAAK,EAAC;AAAU;;EAaxBA,KAAK,EAAC;AAAkB;iCAE9BC,mBAAA,CAA8B,eAAvB,iBAAe;iCAOpBA,mBAAA,CAKQ;EALDE,IAAI,EAAC;AAAM,I,aAClBF,mBAAA,CAAa,YAAT,MAAI,G,aACRA,mBAAA,CAAY,YAAR,KAAG,G,aACPA,mBAAA,CAAc,YAAV,OAAK,G,aACTA,mBAAA,CAAgB,YAAZ,SAAO,E;;EAEJE,IAAI,EAAC,MAAM;EAAC,YAAU,EAAC;;;;;uBApCpCC,YAAA,CAoDaC,qBAAA;IArDfC,OAAA,EAAAC,QAAA,CAEI,MAkDM,CAlDNN,mBAAA,CAkDM,OAlDNO,UAkDM,GAjDJP,mBAAA,CAgDM,OAhDNQ,UAgDM,GA/CJR,mBAAA,CAiBM,OAjBNS,UAiBM,GAhBJT,mBAAA,CAeM,OAfNU,UAeM,GAdJC,UAA8C,EAC9CX,mBAAA,CAYM,OAZNY,UAYM,GAXJZ,mBAAA,CAUK,MAVLa,UAUK,GATHb,mBAAA,CAQK,MARLc,UAQK,GAPHd,mBAAA,CAMC;MALEe,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,QAAA,CAAAC,YAAY;MACpBpB,KAAK,EAAC,UAAU;MAChB,cAAY,EAAC,MAAM;MACnBE,IAAI,EAAC;OACJ,QAAM,E,WAOnBD,mBAAA,CAA4D,MAA5DoB,UAA4D,EAA/B,WAAS,GAAAC,gBAAA,CAAGC,KAAA,CAAAC,IAAI,EAAEC,IAAI,IAAG,GAAC,iBACvDxB,mBAAA,CA2BE,cA1BJyB,WAA8B,E,gBAC9BzB,mBAAA,CAA0D;MAAnDD,KAAK,EAAC,cAAc;MAzBjC,uBAAAiB,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAyB2CS,IAAA,CAAAC,OAAO,CAACH,IAAI,CAACI,KAAK,GAAAX,MAAA;mDAAlBS,IAAA,CAAAC,OAAO,CAACH,IAAI,CAACI,KAAK,E,GAEvDC,YAAA,CAsBUC,kBAAA;MArBPC,IAAI,EAAEL,IAAA,CAAAM,KAAK;MACXL,OAAO,EAAED,IAAA,CAAAC;;MA7BlBtB,OAAA,EAAAC,QAAA,CA+BQ,MAKQ,CALR2B,WAKQ,EACRjC,mBAAA,CAWQ,SAXRkC,WAWQ,I,kBAVRC,mBAAA,CASKC,SAAA,QA/CbC,WAAA,CAsC0BX,IAAA,CAAAY,WAAW,EAAlBC,GAAG;6BAAdJ,mBAAA,CASK;UAT2BK,GAAG,EAAED,GAAG,CAACE;YACvCzC,mBAAA,CAAuB,YAAAqB,gBAAA,CAAhBkB,GAAG,CAACf,IAAI,kBACfxB,mBAAA,CAAsB,YAAAqB,gBAAA,CAAfkB,GAAG,CAACG,GAAG,kBACd1C,mBAAA,CAAwB,YAAAqB,gBAAA,CAAjBkB,GAAG,CAACI,KAAK,kBAChB3C,mBAAA,CAIK,YAAAqB,gBAAA,CAHEkB,GAAG,CAACK,OAAO,CAACC,MAAM,IAAG,IACxB,GAAAxB,gBAAA,CAAGkB,GAAG,CAACK,OAAO,CAACE,IAAI,IAAG,GACtB,GAAAzB,gBAAA,CAAGkB,GAAG,CAACK,OAAO,CAACG,KAAK,iB;;MA7ClCC,CAAA;;IAAAA,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}