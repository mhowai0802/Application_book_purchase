{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport LayoutDiv from \"../LayoutDiv.vue\";\nexport default {\n  name: \"LoginPage\",\n  components: {\n    LayoutDiv\n  },\n  data() {\n    return {\n      name: \"\",\n      password: \"\"\n    };\n  },\n  methods: {\n    loginAction() {\n      this.isSubmitting = true;\n      let payload = {\n        name: this.name,\n        password: this.password\n      };\n      axios.post(\"http://127.0.0.1:5000/login\", payload).then(response => {\n        console.log(response.data.password);\n        if (response.data.password == this.password) {\n          localStorage.setItem(\"name\", response.data.name);\n          this.$router.push(\"/dashboard\");\n          return response;\n        } else if (response.data.password == 'nouser') {\n          alert(\"Not registered user\").then(() => {\n            this.$router.reload();\n          });\n        } else if (response.data.password != this.password) {\n          alert(\"Wrong password\").then(() => {\n            this.$router.reload();\n          });\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","LayoutDiv","name","components","data","password","methods","loginAction","isSubmitting","payload","post","then","response","console","log","localStorage","setItem","$router","push","alert","reload","catch","error"],"sources":["/Users/waiwai/Desktop/Vuejs/model-project/src/components/pages/LoginPage.vue"],"sourcesContent":["<template>\n  <layout-div>\n    <div class=\"row justify-content-md-center mt-5\">\n      <div class=\"col-4\">\n        <div class=\"card\">\n          <div class=\"card-body\">\n            <h5 class=\"card-title mb-4\">Sign In</h5>\n            <form>\n              <div class=\"mb-3\">\n                <label htmlFor=\"phone_number\" class=\"form-label\">\n                  User name\n                </label>\n                <input v-model=\"name\" type=\"name\" class=\"form-control\" id=\"name\"\n                  name=\"name\" />\n              </div>\n              <div class=\"mb-3\">\n                <label htmlFor=\"password\" class=\"form-label\">Password </label>\n                <input v-model=\"password\" type=\"password\" class=\"form-control\" id=\"password\" name=\"password\" />\n              </div>\n              <div class=\"d-grid gap-2\">\n                <button @click=\"loginAction()\" type=\"button\" class=\"btn btn-primary btn-block\">\n                  Login\n                </button>\n                <p class=\"text-center\">\n                  Don't have account?\n                  <router-link to=\"/register\">Register here </router-link>\n                </p>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  </layout-div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport LayoutDiv from \"../LayoutDiv.vue\";\n\nexport default {\n  name: \"LoginPage\",\n  components: {\n    LayoutDiv,\n  },\n  data() {\n    return {\n      name: \"\",\n      password: \"\",\n    };\n  },\n  methods: {\n    loginAction() {\n      this.isSubmitting = true;\n      let payload = {\n        name: this.name,\n        password: this.password,\n      };\n      axios\n        .post(\"http://127.0.0.1:5000/login\", payload)\n        .then((response) => {\n          console.log(response.data.password)\n          if (response.data.password == this.password){\n          localStorage.setItem(\"name\", response.data.name);\n          this.$router.push(\"/dashboard\");\n          return response;\n          }\n          else if (response.data.password == 'nouser'){\n            alert(\"Not registered user\").then(() => {\n              this.$router.reload()\n          });}\n          else if (response.data.password != this.password){\n            alert(\"Wrong password\").then(() => {\n              this.$router.reload()\n          });}\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    }\n  },\n};\n</script>\n\n<style scoped></style>"],"mappings":";AAqCA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,SAAQ,MAAO,kBAAkB;AAExC,eAAe;EACbC,IAAI,EAAE,WAAW;EACjBC,UAAU,EAAE;IACVF;EACF,CAAC;EACDG,IAAIA,CAAA,EAAG;IACL,OAAO;MACLF,IAAI,EAAE,EAAE;MACRG,QAAQ,EAAE;IACZ,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,WAAWA,CAAA,EAAG;MACZ,IAAI,CAACC,YAAW,GAAI,IAAI;MACxB,IAAIC,OAAM,GAAI;QACZP,IAAI,EAAE,IAAI,CAACA,IAAI;QACfG,QAAQ,EAAE,IAAI,CAACA;MACjB,CAAC;MACDL,KAAI,CACDU,IAAI,CAAC,6BAA6B,EAAED,OAAO,EAC3CE,IAAI,CAAEC,QAAQ,IAAK;QAClBC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACR,IAAI,CAACC,QAAQ;QAClC,IAAIO,QAAQ,CAACR,IAAI,CAACC,QAAO,IAAK,IAAI,CAACA,QAAQ,EAAC;UAC5CU,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEJ,QAAQ,CAACR,IAAI,CAACF,IAAI,CAAC;UAChD,IAAI,CAACe,OAAO,CAACC,IAAI,CAAC,YAAY,CAAC;UAC/B,OAAON,QAAQ;QACf,OACK,IAAIA,QAAQ,CAACR,IAAI,CAACC,QAAO,IAAK,QAAQ,EAAC;UAC1Cc,KAAK,CAAC,qBAAqB,CAAC,CAACR,IAAI,CAAC,MAAM;YACtC,IAAI,CAACM,OAAO,CAACG,MAAM,CAAC;UACxB,CAAC,CAAC;QAAC,OACE,IAAIR,QAAQ,CAACR,IAAI,CAACC,QAAO,IAAK,IAAI,CAACA,QAAQ,EAAC;UAC/Cc,KAAK,CAAC,gBAAgB,CAAC,CAACR,IAAI,CAAC,MAAM;YACjC,IAAI,CAACM,OAAO,CAACG,MAAM,CAAC;UACxB,CAAC,CAAC;QAAC;MACL,CAAC,EACAC,KAAK,CAAEC,KAAK,IAAK;QAChBT,OAAO,CAACC,GAAG,CAACQ,KAAK,CAAC;MACpB,CAAC,CAAC;IACN;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}