{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport LayoutDiv from '../LayoutDiv.vue';\nexport default {\n  name: 'DashboardPage',\n  components: {\n    LayoutDiv\n  },\n  data() {\n    return {\n      user: {}\n    };\n  },\n  created() {\n    this.getUser();\n    if (localStorage.getItem('token') == \"\" || localStorage.getItem('token') == null) {\n      this.$router.push('/');\n    } else {\n      this.getUser();\n    }\n  },\n  methods: {\n    getUser() {\n      axios.get('/api/user', {\n        headers: {\n          Authorization: 'Bearer ' + localStorage.getItem('token')\n        }\n      }).then(r => {\n        this.user = r.data;\n        return r;\n      }).catch(e => {\n        return e;\n      });\n    },\n    logoutAction() {\n      console.log(\"Logout\")\n      //  axios.post('/api/logout',{}, { headers:{Authorization: 'Bearer ' + localStorage.getItem('token')}})\n      .then(r => {\n        localStorage.setItem('token', \"\");\n        this.$router.push('/');\n        return r;\n      }).catch(e => {\n        return e;\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","LayoutDiv","name","components","data","user","created","getUser","localStorage","getItem","$router","push","methods","get","headers","Authorization","then","r","catch","e","logoutAction","console","log","setItem"],"sources":["/Users/waiwai/Desktop/Vuejs/model-project/src/components/pages/DashboardPage.vue"],"sourcesContent":["<template>\n    <layout-div>\n       <div class=\"row justify-content-md-center\">\n         <div class=\"col-12\">\n             <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n                 <div class=\"container-fluid\">\n                     <a class=\"navbar-brand\" href=\"#\">Dashboard</a>\n                     <div class=\"d-flex\">\n                         <ul class=\"navbar-nav\">\n                             <li class=\"nav-item\">\n                                 <a @click=\"logoutAction()\" class=\"nav-link \" aria-current=\"page\" href=\"#\">Logout</a>\n                             </li>\n                         </ul>\n                     </div>\n                 </div>\n             </nav>\n             <h2 class=\"text-center mt-5\">Welcome, {{user?.name}}!</h2  >\n         </div>\n       </div>\n    </layout-div>\n </template>\n   \n <script>\n import axios from 'axios';\n import LayoutDiv from '../LayoutDiv.vue';\n   \n export default {\n   name: 'DashboardPage',\n   components: {\n     LayoutDiv,\n   },\n   data() {\n     return {\n       user: {},\n     };\n   },\n   created() {\n     this.getUser();\n     if(localStorage.getItem('token') == \"\" || localStorage.getItem('token') == null){\n       this.$router.push('/')\n     }else {\n       this.getUser();\n     }\n  \n   },\n   methods: {\n     getUser() {\n         axios.get('/api/user', { headers:{Authorization: 'Bearer ' + localStorage.getItem('token')}})\n         .then((r) => {\n            this.user = r.data;\n            return r\n         })\n         .catch((e) => {\n            return e\n         });\n     },\n  \n     logoutAction () {\n       console.log(\"Logout\")\n      //  axios.post('/api/logout',{}, { headers:{Authorization: 'Bearer ' + localStorage.getItem('token')}})\n       .then((r) => {\n           localStorage.setItem('token', \"\")\n           this.$router.push('/')\n           return r\n       })\n       .catch((e) => {\n         return e\n       });\n     }\n  \n   },\n };\n </script>"],"mappings":";AAuBC,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,SAAQ,MAAO,kBAAkB;AAExC,eAAe;EACbC,IAAI,EAAE,eAAe;EACrBC,UAAU,EAAE;IACVF;EACF,CAAC;EACDG,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE,CAAC;IACT,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,OAAO,CAAC,CAAC;IACd,IAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,KAAK,EAAC,IAAKD,YAAY,CAACC,OAAO,CAAC,OAAO,KAAK,IAAI,EAAC;MAC9E,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,GAAG;IACvB,CAAC,MAAK;MACJ,IAAI,CAACJ,OAAO,CAAC,CAAC;IAChB;EAEF,CAAC;EACDK,OAAO,EAAE;IACPL,OAAOA,CAAA,EAAG;MACNP,KAAK,CAACa,GAAG,CAAC,WAAW,EAAE;QAAEC,OAAO,EAAC;UAACC,aAAa,EAAE,SAAQ,GAAIP,YAAY,CAACC,OAAO,CAAC,OAAO;QAAC;MAAC,CAAC,EAC3FO,IAAI,CAAEC,CAAC,IAAK;QACV,IAAI,CAACZ,IAAG,GAAIY,CAAC,CAACb,IAAI;QAClB,OAAOa,CAAA;MACV,CAAC,EACAC,KAAK,CAAEC,CAAC,IAAK;QACX,OAAOA,CAAA;MACV,CAAC,CAAC;IACN,CAAC;IAEDC,YAAWA,CAAA,EAAK;MACdC,OAAO,CAACC,GAAG,CAAC,QAAQ;MACrB;MAAA,CACEN,IAAI,CAAEC,CAAC,IAAK;QACTT,YAAY,CAACe,OAAO,CAAC,OAAO,EAAE,EAAE;QAChC,IAAI,CAACb,OAAO,CAACC,IAAI,CAAC,GAAG;QACrB,OAAOM,CAAA;MACX,CAAC,EACAC,KAAK,CAAEC,CAAC,IAAK;QACZ,OAAOA,CAAA;MACT,CAAC,CAAC;IACJ;EAEF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}