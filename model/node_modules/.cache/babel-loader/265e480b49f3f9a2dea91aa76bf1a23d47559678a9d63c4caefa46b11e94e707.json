{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport LayoutDiv from '../LayoutDiv.vue';\nexport default {\n  name: 'LoginPage',\n  components: {\n    LayoutDiv\n  },\n  data() {\n    return {\n      phone_number: '',\n      password: '',\n      validationErrors: {},\n      isSubmitting: false\n    };\n  },\n  //    created() {\n  //      if(localStorage.getItem('token') != \"\" && localStorage.getItem('token') != null){\n  //          this.$router.push('/dashboard')\n  //      }\n  //    },\n  methods: {\n    loginAction() {\n      this.isSubmitting = true;\n      let payload = {\n        phone_number: this.phone_number,\n        password: this.password\n      };\n      axios.post('http://127.0.0.1:5000/login', payload).then(response => {\n        console.log(response);\n        localStorage.getItem(response.data);\n        this.$router.push('/dashboard');\n        return response;\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","LayoutDiv","name","components","data","phone_number","password","validationErrors","isSubmitting","methods","loginAction","payload","post","then","response","console","log","localStorage","getItem","$router","push","catch","error"],"sources":["/Users/waiwai/Desktop/Vuejs/model-project/src/components/pages/LoginPage.vue"],"sourcesContent":["<template>\n    <layout-div>\n         <div class=\"row justify-content-md-center mt-5\">\n             <div class=\"col-4\">\n                 <div class=\"card\">\n                     <div class=\"card-body\">\n                         <h5 class=\"card-title mb-4\">Sign In</h5>\n                         <form>\n                             <p v-if=\"Object.keys(validationErrors).length != 0\" class='text-center '><small class='text-danger'>Incorrect phone_number or Password</small></p>\n                             <div class=\"mb-3\">\n                                 <label \n                                     htmlFor=\"phone_number\"\n                                     class=\"form-label\">\n                                         Phone number\n                                 </label>\n                                 <input \n                                     v-model=\"phone_number\"\n                                     type=\"phone_number\"\n                                     class=\"form-control\"\n                                     id=\"phone_number\"\n                                     name=\"phone_number\"\n                                 />\n                             </div>\n                             <div class=\"mb-3\">\n                                 <label \n                                     htmlFor=\"password\"\n                                     class=\"form-label\">Password\n                                 </label>\n                                 <input \n                                     v-model=\"password\"\n                                     type=\"password\"\n                                     class=\"form-control\"\n                                     id=\"password\"\n                                     name=\"password\"\n                                 />\n                             </div>\n                             <div class=\"d-grid gap-2\">\n                                 <button \n                                     :disabled=\"isSubmitting\"\n                                     @click=\"loginAction()\"\n                                     type=\"button\"\n                                     class=\"btn btn-primary btn-block\">Login</button>\n                                 <p class=\"text-center\">Don't have account? \n                                     <router-link to=\"/register\">Register here </router-link>\n                                 </p>\n                             </div>\n                         </form>\n                     </div>\n                 </div>\n             </div>\n         </div>\n          \n    </layout-div>\n </template>\n   \n <script>\n import axios from 'axios';\n import LayoutDiv from '../LayoutDiv.vue';\n   \n export default {\n   name: 'LoginPage',\n   components: {\n     LayoutDiv,\n   },\n   data() {\n     return {\n         phone_number:'',\n         password:'',\n         validationErrors:{},\n         isSubmitting:false,\n     };\n   },\n//    created() {\n//      if(localStorage.getItem('token') != \"\" && localStorage.getItem('token') != null){\n//          this.$router.push('/dashboard')\n//      }\n//    },\n   methods: {\n      loginAction(){\n         this.isSubmitting = true\n         let payload = {\n             phone_number: this.phone_number,\n             password: this.password,\n         }\n         axios.post('http://127.0.0.1:5000/login', payload)\n           .then(response => {\n             console.log(response)\n             localStorage.getItem(response.data)\n             this.$router.push('/dashboard')\n             return response\n           })\n           .catch(error => {             \n                console.log(error)\n           });\n      }\n   },\n };\n </script>"],"mappings":";AAwDC,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,SAAQ,MAAO,kBAAkB;AAExC,eAAe;EACbC,IAAI,EAAE,WAAW;EACjBC,UAAU,EAAE;IACVF;EACF,CAAC;EACDG,IAAIA,CAAA,EAAG;IACL,OAAO;MACHC,YAAY,EAAC,EAAE;MACfC,QAAQ,EAAC,EAAE;MACXC,gBAAgB,EAAC,CAAC,CAAC;MACnBC,YAAY,EAAC;IACjB,CAAC;EACH,CAAC;EACJ;EACA;EACA;EACA;EACA;EACGC,OAAO,EAAE;IACNC,WAAWA,CAAA,EAAE;MACV,IAAI,CAACF,YAAW,GAAI,IAAG;MACvB,IAAIG,OAAM,GAAI;QACVN,YAAY,EAAE,IAAI,CAACA,YAAY;QAC/BC,QAAQ,EAAE,IAAI,CAACA;MACnB;MACAN,KAAK,CAACY,IAAI,CAAC,6BAA6B,EAAED,OAAO,EAC9CE,IAAI,CAACC,QAAO,IAAK;QAChBC,OAAO,CAACC,GAAG,CAACF,QAAQ;QACpBG,YAAY,CAACC,OAAO,CAACJ,QAAQ,CAACV,IAAI;QAClC,IAAI,CAACe,OAAO,CAACC,IAAI,CAAC,YAAY;QAC9B,OAAON,QAAO;MAChB,CAAC,EACAO,KAAK,CAACC,KAAI,IAAK;QACXP,OAAO,CAACC,GAAG,CAACM,KAAK;MACtB,CAAC,CAAC;IACP;EACH;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}