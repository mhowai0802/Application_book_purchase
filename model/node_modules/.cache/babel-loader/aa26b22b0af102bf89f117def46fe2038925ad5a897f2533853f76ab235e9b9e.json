{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport LayoutDiv from \"../LayoutDiv.vue\";\nexport default {\n  name: \"LoginPage\",\n  components: {\n    LayoutDiv\n  },\n  data() {\n    return {\n      phone_number: \"\",\n      password: \"\",\n      validationErrors: {},\n      isSubmitting: false\n    };\n  },\n  //    created() {\n  //      if(localStorage.getItem('token') != \"\" && localStorage.getItem('token') != null){\n  //          this.$router.push('/dashboard')\n  //      }\n  //    },\n  methods: {\n    loginAction() {\n      this.isSubmitting = true;\n      let payload = {\n        phone_number: this.phone_number,\n        password: this.password\n      };\n      axios.post(\"http://127.0.0.1:5000/login\", payload).then(response => {\n        localStorage.setItem(\"name\", response.data.phone_number);\n        this.$router.push(\"/dashboard\");\n        return response;\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n  }\n};","map":{"version":3,"names":["axios","LayoutDiv","name","components","data","phone_number","password","validationErrors","isSubmitting","methods","loginAction","payload","post","then","response","localStorage","setItem","$router","push","catch","error","console","log"],"sources":["/Users/waiwai/Desktop/Vuejs/model-project/src/components/pages/LoginPage.vue"],"sourcesContent":["<template>\n  <layout-div>\n    <div class=\"row justify-content-md-center mt-5\">\n      <div class=\"col-4\">\n        <div class=\"card\">\n          <div class=\"card-body\">\n            <h5 class=\"card-title mb-4\">Sign In</h5>\n            <form>\n              <p\n                v-if=\"Object.keys(validationErrors).length != 0\"\n                class=\"text-center\"\n              >\n                <small class=\"text-danger\"\n                  >Incorrect phone_number or Password</small\n                >\n              </p>\n              <div class=\"mb-3\">\n                <label htmlFor=\"phone_number\" class=\"form-label\">\n                  Phone number\n                </label>\n                <input\n                  v-model=\"phone_number\"\n                  type=\"phone_number\"\n                  class=\"form-control\"\n                  id=\"phone_number\"\n                  name=\"phone_number\"\n                />\n              </div>\n              <div class=\"mb-3\">\n                <label htmlFor=\"password\" class=\"form-label\">Password </label>\n                <input\n                  v-model=\"password\"\n                  type=\"password\"\n                  class=\"form-control\"\n                  id=\"password\"\n                  name=\"password\"\n                />\n              </div>\n              <div class=\"d-grid gap-2\">\n                <button\n                  :disabled=\"isSubmitting\"\n                  @click=\"loginAction()\"\n                  type=\"button\"\n                  class=\"btn btn-primary btn-block\"\n                >\n                  Login\n                </button>\n                <p class=\"text-center\">\n                  Don't have account?\n                  <router-link to=\"/register\">Register here </router-link>\n                </p>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  </layout-div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport LayoutDiv from \"../LayoutDiv.vue\";\n\nexport default {\n  name: \"LoginPage\",\n  components: {\n    LayoutDiv,\n  },\n  data() {\n    return {\n      phone_number: \"\",\n      password: \"\",\n      validationErrors: {},\n      isSubmitting: false,\n    };\n  },\n  //    created() {\n  //      if(localStorage.getItem('token') != \"\" && localStorage.getItem('token') != null){\n  //          this.$router.push('/dashboard')\n  //      }\n  //    },\n  methods: {\n    loginAction() {\n      this.isSubmitting = true;\n      let payload = {\n        phone_number: this.phone_number,\n        password: this.password,\n      };\n      axios\n        .post(\"http://127.0.0.1:5000/login\", payload)\n        .then((response) => {\n          localStorage.setItem(\"name\", response.data.phone_number);\n          this.$router.push(\"/dashboard\");\n          return response;\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n  },\n};\n</script>\n\n<style scoped>\n\n* {\n  margin: 0;\n  padding: 0;\n}\n\nbody {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n}\n\n#app {\n  width: 20rem;\n}\n\n#app > div {\n  display: flex;\n  flex-direction: row;\n}\n\nselect, input {\n  width: 50%;\n}\n\ntable {\n  width: 100%;\n  border: 1px solid black;\n  text-align: center;\n  border-spacing: 0;\n}\n\ntd {\n  border-top: 1px solid black;\n}\n\n\n</style>"],"mappings":";AA6DA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,SAAQ,MAAO,kBAAkB;AAExC,eAAe;EACbC,IAAI,EAAE,WAAW;EACjBC,UAAU,EAAE;IACVF;EACF,CAAC;EACDG,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,YAAY,EAAE,EAAE;MAChBC,QAAQ,EAAE,EAAE;MACZC,gBAAgB,EAAE,CAAC,CAAC;MACpBC,YAAY,EAAE;IAChB,CAAC;EACH,CAAC;EACD;EACA;EACA;EACA;EACA;EACAC,OAAO,EAAE;IACPC,WAAWA,CAAA,EAAG;MACZ,IAAI,CAACF,YAAW,GAAI,IAAI;MACxB,IAAIG,OAAM,GAAI;QACZN,YAAY,EAAE,IAAI,CAACA,YAAY;QAC/BC,QAAQ,EAAE,IAAI,CAACA;MACjB,CAAC;MACDN,KAAI,CACDY,IAAI,CAAC,6BAA6B,EAAED,OAAO,EAC3CE,IAAI,CAAEC,QAAQ,IAAK;QAClBC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEF,QAAQ,CAACV,IAAI,CAACC,YAAY,CAAC;QACxD,IAAI,CAACY,OAAO,CAACC,IAAI,CAAC,YAAY,CAAC;QAC/B,OAAOJ,QAAQ;MACjB,CAAC,EACAK,KAAK,CAAEC,KAAK,IAAK;QAChBC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MACpB,CAAC,CAAC;IACN;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}